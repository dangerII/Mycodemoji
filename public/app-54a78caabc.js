!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.CharList=t()}(this,function(e,t){var n="!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~£¥¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ";return console.log("total chars:  "+n.length),n}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.EmojiList=t()}(this,function(){var e=[8986,8987,9200,9203,9728,9729,9742,9748,9749,9757,9786,9824,9827,9829,9830,9832,9875,9889,9917,9918,9924,9925,9962,9970,9971,9973,9978,9981,9992,9993,9994,9995,9996,9999,10002,10024,10052,10084,11088,126980,127183,127744,127745,127746,127747,127748,127749,127750,127751,127752,127753,127754,127755,127756,127757,127758,127759,127760,127762,127763,127764,127765,127766,127767,127768,127769,127770,127771,127772,127773,127774,127775,127776,127786,127792,127793,127794,127795,127796,127797,127799,127800,127801,127802,127803,127804,127805,127806,127807,127808,127809,127810,127811,127812,127813,127814,127815,127816,127817,127818,127819,127820,127821,127822,127823,127824,127825,127826,127827,127828,127829,127830,127831,127832,127833,127834,127835,127836,127837,127838,127839,127840,127841,127842,127843,127844,127845,127846,127847,127848,127849,127850,127851,127852,127853,127854,127855,127856,127857,127858,127859,127860,127861,127862,127863,127864,127865,127866,127867,127868,127872,127873,127874,127875,127876,127877,127878,127879,127880,127881,127882,127883,127884,127885,127886,127887,127888,127889,127890,127891,127904,127905,127906,127907,127908,127909,127911,127912,127913,127914,127915,127916,127917,127918,127919,127920,127921,127922,127923,127924,127925,127926,127927,127928,127929,127930,127931,127932,127933,127934,127935,127936,127938,127939,127940,127942,127943,127944,127945,127946,127968,127969,127970,127971,127972,127973,127974,127976,127977,127978,127979,127980,127981,127982,127983,127984,128e3,128001,128002,128003,128004,128005,128006,128007,128008,128009,128010,128011,128012,128013,128014,128015,128016,128017,128018,128019,128020,128021,128022,128023,128024,128025,128026,128027,128028,128029,128030,128031,128032,128033,128034,128035,128036,128037,128038,128039,128040,128041,128042,128043,128044,128045,128046,128047,128048,128049,128050,128051,128052,128053,128054,128055,128056,128057,128058,128059,128060,128061,128062,128064,128066,128067,128068,128069,128070,128071,128072,128073,128074,128075,128076,128077,128078,128079,128080,128081,128082,128083,128084,128085,128086,128087,128088,128089,128090,128091,128092,128093,128094,128095,128096,128097,128098,128099,128101,128102,128103,128104,128105,128107,128108,128109,128110,128111,128112,128113,128114,128115,128116,128117,128118,128119,128120,128121,128122,128123,128124,128125,128126,128127,128128,128129,128130,128131,128132,128133,128134,128135,128136,128139,128140,128141,128142,128143,128144,128145,128146,128147,128148,128149,128150,128151,128152,128153,128154,128155,128156,128157,128158,128159,128161,128162,128163,128164,128165,128166,128167,128168,128169,128170,128171,128172,128173,128174,128176,128179,128180,128181,128182,128183,128184,128185,128186,128187,128188,128189,128190,128191,128192,128195,128196,128209,128210,128211,128212,128213,128214,128215,128216,128217,128218,128220,128221,128222,128223,128224,128225,128226,128227,128228,128229,128230,128231,128232,128233,128234,128235,128236,128237,128238,128239,128240,128241,128242,128247,128249,128250,128251,128252,128263,128264,128265,128266,128267,128268,128269,128270,128276,128277,128278,128293,128294,128300,128301,128507,128508,128509,128510,128512,128513,128514,128515,128516,128517,128518,128519,128520,128521,128522,128523,128524,128525,128526,128527,128528,128529,128530,128531,128532,128533,128534,128535,128536,128537,128538,128539,128540,128541,128542,128543,128544,128545,128546,128547,128548,128549,128550,128551,128552,128553,128554,128555,128556,128557,128558,128559,128560,128561,128562,128563,128564,128565,128566,128567,128568,128569,128570,128571,128572,128573,128574,128575,128576,128581,128582,128583,128584,128585,128586,128587,128588,128589,128590,128640,128641,128642,128643,128644,128645,128646,128647,128648,128649,128650,128651,128652,128653,128654,128655,128656,128657,128658,128659,128660,128661,128662,128663,128664,128665,128666,128667,128668,128669,128670,128671,128672,128673,128674,128675,128676,128677,128678,128679,128680,128682,128690,128692,128693,128694,128701,128703,128704,128705];return e}),function(e,t){"function"==typeof define&&define.amd?define(["lodash","punycode","./char-list.js"],t):"object"==typeof exports?module.exports=t(require("lodash"),require("punycode"),require("./char-list.js")):e.CaesarShifter=t(e._,e.punycode,e.CharList)}(this,function(e,t,n){function o(e,t){return r(e,t)}function i(e,t){return r(e,-t)}function r(t,o){if("undefined"==typeof o||0==o)return t;o<0&&(o+=n.length),o%=n.length;for(var i="",r=t.length-1;r>=0;r--){var a=t[r];if(e.includes(n,a)){var s=e.findIndex(n,function(e){return e===a});s=(s+o)%n.length,a=n[s]}i+=a}return i.split("").reverse().join("")}return chars=e.flatten(e.map(n,function(e){return t.ucs2.decode(e)})),{encrypt:o,decrypt:i}}),function(e,t){"function"==typeof define&&define.amd?define(["lodash","punycode","./emoji-list.js","./char-list.js"],t):"object"==typeof exports?module.exports=t(require("lodash"),require("punycode"),require("./emoji-list.js"),require("./char-list.js")):e.Emojifier=t(e._,e.punycode,e.EmojiList,e.CharList)}(this,function(e,t,n,o){function i(n){var o=t.ucs2.decode(n);return o=e.map(o,function(t){if(!e.includes(l,t))return t;var n=e.findIndex(l,function(e){return e==t});return d[n]}),t.ucs2.encode(o)}function r(n){var i=t.ucs2.decode(n);return i=e.map(i,function(t){var n=e.findIndex(d,function(e){return e===t});return n>=0?o[n]:String.fromCodePoint(t)}),i.join("")}function a(t){function i(e){return e*r%a}if(t=c(t),e.isUndefined(t))d=n.slice(0,o.length);else{var r=t,a=n.length,s=[];e.times(o.length,function(e){s.push(n[i(e)])}),d=s}}function s(e){return e=c(e),e%=o.length}function c(n){if(n=e.toString(n),e.isEmpty(n))throw"Emojifier.generateEmojiSubset needs a non-empty string";return e.first(t.ucs2.decode(n))}var l=e.flatten(e.map(o,function(e){return t.ucs2.decode(e)})),d=n.slice(0,o.length);return{encode:i,decode:r,generateEmojiListFrom:a,toNumber:c,toKey:s}}),function(e,t){"function"==typeof define&&define.amd?define(["lodash","./crypto-lib/caesar-shifter.js","./crypto-lib/emojifier.js"],t):"object"==typeof exports?module.exports=t(require("lodash"),require("./crypto-lib/caesar-shifter.js"),require("./crypto-lib/emojifier.js")):e.CryptoLib=t(e._,e.CaesarShifter,e.Emojifier)}(this,function(e,t,n){function o(e,o){var i=e;return o=a(o),i=t.encrypt(i,o),i=n.encode(i)}function i(e,o){var i=e;return o=a(o),i=n.decode(i),i=t.decrypt(i,o)}function r(e){n.generateEmojiListFrom(e)}function a(e){return s(e)&&(e=n.toKey(e)),e}function s(e){return isNaN(Number(e))}return{encrypt:o,decrypt:i,generateEmojiSubsetFrom:r}}),function(e,t,n){"use strict";function o(){var e=$(".keyslider .selected",$(".section-show")).position().left-t.utils.remToPx(1.7);$(".keyslider",$(".section-show")).animate({scrollLeft:e},500)}var i=null,r=!1;t.states.decrypt={enter:function(e){t.stateman.emit("header:show"),t.UI.Keyslider("decrypt","#decryption_keyslider").fill(_.take(EmojiList,10)),$(".decryption").addClass("section-show"),t.Api.getMessage(e.param.id).then(function(e){t.UI.showDecryptableText(e.message),i=e.key})["catch"](function(){alert("cannot retrieve from server")}),t.stateman.on("keyslider:key-chosen",function(e){t.UI.KeyModal().select(e),e!==i?(r=!0,t.stateman.emit("decrypt:wrong-key")):(r=!1,t.stateman.emit("decrypt:right-key")),t.UI.selectKey(e),t.UI.decryptText()}),t.stateman.on("keymodal:key-chosen",function(e){t.UI.Keyslider("decrypt").resetSelection().addKey(e).select(e),o(),t.UI.selectKey(e),t.UI.decryptText()}),t.stateman.on("decrypt:show-reply",function(){r?($("#decryption_reply_button").css("display","none"),$("#decryption_reply_button").removeClass("main_share-open")):($("#decryption_reply_button").css("display","block"),$("#decryption_reply_button").addClass("main_share-open"),$("#decryption_reply_button").fadeIn())}),t.stateman.on("decrypt:wrong-key",function(){console.log("wrong key")}),t.stateman.on("decrypt:right-key",function(){console.log("right key"),$("body").removeClass("main_key_modal-open")})},leave:function(){$(".decryption").removeClass("section-show"),t.stateman.off("decrypt"),t.stateman.off("keyslider")}}}(window,window.Cryptoloji),function(e,t,n,o,i){"use strict";function r(e,t){var o=n("#encryption_input"),i=t?t:o.attr("placeholder");"playing"!==e.status&&e.addActor("inputPlaceholder",{speed:1.1,accuracy:1},function(e){o.attr("placeholder",e)}).on("type:start",function(){n("body").addClass("main_content_top_input-first"),o.attr("placeholder","")}).addScene("inputPlaceholder:",i).addScene(function(e){setTimeout(function(){n("body").removeClass("main_content_top_input-first"),e()},400)})}function a(){n("#encryption_input").val(""),n("#encryption_input_cleaner").hide(),n("#encryption_input_count").hide(),n("#encryption_share_button").removeClass("main_share-open")}function s(){n("#encryption_output").html("").addClass("placeholdit"),n(".share_message_item").html("")}function c(){var e=n(".keyslider .selected",n(".section-show")).position().left-t.utils.remToPx(1.7);n(".keyslider",n(".section-show")).animate({scrollLeft:e},500)}t.states.encrypt={enter:function(){var e=o();t.stateman.emit("header:show"),t.UI.CharCounter("encrypt","#encryption_input_count").setMaxSize(t.settings.inputMaxSize).attachTo("#encryption_input"),t.mq.matches?t.stateman.on("keypanel:key-chosen",function(o){if(0==n("#encryption_input").val().length){var i=["You've picked a key.",400,"\nWrite your message here to see it encrypted.",600];r(e,i)}t.UI.selectKey(o),t.UI.encryptText()}):(t.UI.Keyslider("encrypt","#encryption_keyslider").fill(_.take(EmojiList,10)),t.stateman.on("keyslider:key-chosen",function(o){if(t.UI.KeyModal().select(o),0==n("#encryption_input").val().length){var i=["You've picked a key.",400,"\nWrite your message here to see it encrypted.",600];r(e,i)}t.UI.selectKey(o),t.UI.encryptText()}),t.stateman.on("keymodal:key-chosen",function(e){t.UI.Keyslider("encrypt").resetSelection().addKey(e).select(e),c(),t.UI.selectKey(e),t.UI.encryptText()})),n(".encryption").addClass("section-show"),r(e),n("#encryption_input").bind("input propertychange",function(){t.UI.encryptText()}),n("#encryption_share_button").hasClass("main_share-open")||(n("#encryption_share_button").css("display","none"),n(".main_keyslider_plus",self.$element).css("display","none")),t.stateman.on("encrypt:show-share",function(){n("#encryption_share_button").css("display","block"),n("#encryption_share_button").addClass("main_share-open")}),t.stateman.on("encrypt:hide-output-placeholder",function(){n(".main_content_bottom_input").html("").removeClass("placeholdit")}),n("#encryption_input_cleaner").on("click",function(){a(),s(),t.UI.CharCounter("encrypt").resetCount()}),n("#encryption_input").on("focus",function(){n("#encryption_input_cleaner").hide(),n("#encryption_input_count").show()}),n("#encryption_input").on("blur",function(){var e=n("#encryption_input").val();_.isEmpty(e)||n("#encryption_input_cleaner").show()})},leave:function(){t.UI.KeyModal().close(),n(".encryption").removeClass("section-show"),t.stateman.off("encrypt"),t.stateman.off("keyslider")}}}(window,window.Cryptoloji,window.jQuery,window.theaterJS),function(e,t,n){"use strict";function o(){c=new Clipboard("#share_copytoclipboard"),c.on("success",function(e){e.clearSelection();var t=$(e.trigger).val();$(e.trigger).val("COPIED!"),setTimeout(function(){$(e.trigger).val(t)},350)}),c.on("error",function(e){console.warn("using copy fallback"),console.warn("Action:",e.action),console.warn("Trigger:",e.trigger);var t=e.trigger;t.focus(),t.setSelectionRange(0,50)})}function i(){function t(t){var n,o,i=document,r=i.getElementById(t);i.body.createTextRange?(n=i.body.createTextRange(),n.moveToElementText(r),n.select()):e.getSelection&&(o=e.getSelection(),n=i.createRange(),n.selectNodeContents(r),o.removeAllRanges(),o.addRange(n))}l=new Clipboard("#share_copykeytoclipboard"),l.on("success",function(e){e.clearSelection();var t=$(e.trigger).text();$(e.trigger).text("COPIED!"),setTimeout(function(){$(e.trigger).text(t)},350)}),l.on("error",function(e){console.warn("using copy fallback"),console.warn("Action:",e.action),console.warn("Trigger:",e.trigger),t("share_currentkey")})}function r(){}function a(){$("#share_copykeytoclipboard").attr("data-clipboard-text",t.current.key)}function s(){t.UI.Sharer("facebook","#share_button_fb").setShareLink("https://www.facebook.com/sharer/sharer.php").addParam("u","http://crypt.ji/F937U2M9").bind(),t.UI.Sharer("twitter","#share_button_tw").setShareLink("https://twitter.com/intent/tweet").addParam("url","http://crypt.ji/F937U2M9").addParam("text","a message").bind(),t.UI.Sharer("gplus","#share_button_go").setShareLink("https://plus.google.com/share").addParam("url","http://crypt.ji/F937U2M9").bind(),t.UI.Sharer("whatsapp","#share_button_wa").sameWindow().setShareLink("whatsapp://send").addParam("text","http://crypt.ji/F937U2M9").bind(),t.UI.Sharer("mail","#share_button_ma").sameWindow().setShareLink("mailto:").addParam("subject","A secret message").addParam("body","http://crypt.ji/F937U2M9").bind()}var c=null,l=null;t.states.share={canEnter:function(){return!!t.current.key||(t.stateman.go("encrypt"),!1)},enter:function(){$(".section_share").addClass("section-show"),setTimeout(function(){$("#share_more_arrow").addClass("shown")},0),r(),a(),o(),i(),s()},leave:function(){$(".section_share").removeClass("section-show"),c.destroy(),l.destroy(),t.UI.Sharer("facebook").unbind(),t.UI.Sharer("twitter").unbind(),t.UI.Sharer("gplus").unbind(),t.UI.Sharer("whatsapp").unbind(),t.UI.Sharer("mail").unbind()}}}(window,window.Cryptoloji),function(e,t,n){"use strict";t.states.onboarding={enter:function(){t.stateman.on("svg:loaded",function(e){"assets/svg/onboarding_bottom.svg"==e&&(t.onBoardingSlider||t.buildSlider(".onboarding_wrapper_ui"))}),t.onBoardingSlider||t.buildSlider(".onboarding_wrapper_ui"),$(".section_onboarding").addClass("section-show")},leave:function(){$(".section_onboarding").removeClass("section-show")}}}(window,window.Cryptoloji),function(e,t,n){"use strict";console.log(t),t.states.welcome={enter:function(){$("body").css("height",$(e).innerHeight()),t.stateman.emit("header:hide"),$(".section_welcome").addClass("section-show")},leave:function(){$(".section_welcome").removeClass("section-show")}}}(window,window.Cryptoloji),function(e,t,n){"use strict";function o(){function e(e,t,n,o){$(e).each(function(i){var r=$(e).length-1-i;TweenLite.to($(this),t,{delay:t*r+n,opacity:o})})}var t=$.Callbacks();t.add(e),t.fire(".loading_text_gray",.07,0,"1"),t.fire(".loading_text_black",.07,.8,"1"),t.fire(".letter_t",.25,2,"0"),t.fire(".emoji_t",.25,2,"1"),t.fire(".letter_i",.2,2.5,"0"),t.fire(".emoji_i",.2,2.5,"1"),t.fire(".letter_o",.2,3.1,"0"),t.fire(".emoji_o",.2,3.1,"1"),t.fire(".letter_s",.15,3.5,"0"),t.fire(".emoji_s",.15,3.5,"1"),t.fire(".letter_c",.15,3.8,"0"),t.fire(".emoji_c",.15,3.8,"1"),t.fire(".letter_r",.1,4.1,"0"),t.fire(".emoji_r",.1,4.1,"1"),t.fire(".letter_j",.1,4.2,"0"),t.fire(".emoji_j",.1,4.2,"1"),t.fire(".letter_p",.1,4.3,"0"),t.fire(".emoji_p",.1,4.3,"1"),t.fire(".letter_y",.1,4.4,"0"),t.fire(".emoji_y",.1,4.4,"1"),t.fire(".letter_h",.1,4.5,"0"),t.fire(".emoji_h",.1,4.5,"1"),t.fire(".letter_l",.1,4.6,"0"),t.fire(".emoji_l",.1,4.6,"1"),t.fire(".emoji_item",.05,5,"0")}t.states.loading={enter:function(){$(".section_loading").addClass("section-show"),t.stateman.emit("header:hide"),$(".section_loading_wrapper").load("assets/svg/loading1.svg",function(){o(),TweenLite.to($(".section_loading_text"),0,{delay:0,opacity:0}),TweenLite.to($(".section_loading_text"),.5,{delay:2,opacity:.5}),TweenLite.to($(".section_loading_text"),.5,{delay:5,opacity:0})}),setTimeout(function(){t.stateman.go("encrypt")},6200)},leave:function(){$(".section_loading").removeClass("section-show")}}}(window,window.Cryptoloji),function(e,t,n){"use strict";t.states.more={enter:function(){$(".section_more").addClass("section-show")},leave:function(){$(".section_more").removeClass("section-show")}}}(window,window.Cryptoloji),function(e,t,n){"use strict";t.states.landing={enter:function(){$(".section_landing").addClass("section-show")},leave:function(){$(".section_landing").removeClass("section-show")}}}(window,window.Cryptoloji),function(e,t,n){var o=parseInt(cookie.get("visitNumber","0"),10);console.log(o),t.visitor={countVisit:function(){cookie.enabled()&&cookie.set("visitNumber",(++o).toString())()},isFirstVisit:function(){return console.log(o),o>0}}}(window,window.Cryptoloji),function(e,t,n){t.mq=e.matchMedia("screen and (min-width: 1024px)").matches}(window,window.Cryptoloji),function(e,t,n,o){function i(e){return Q.promise(function(t,o){var i="backend"+escape(e);i="backend/GET-message-id.json",n.get(i).done(function(e){CryptoLib.generateEmojiSubsetFrom(e.key),t(e)}).fail(function(){console.error(this),o()})})}t.Api={getMessage:i}}(window,window.Cryptoloji,window.jQuery,window.Q),function(e,t,n,o,i){function r(){var e=n("#decryption_input").attr("text");t.current.input=e,console.debug("Chosen text:",t.current.input),e=CryptoLib.decrypt(t.current.input,t.current.key),console.debug("Decrypted text:",e),t.current.output=e,n("#decryption_output").removeClass("placeholdit").text(e),t.stateman.emit("decrypt:show-reply")}function a(){if(t.current.key){var e=n("#encryption_input").val();""===e||/^\s+$/.test(e)||(CryptoLib.generateEmojiSubsetFrom(t.current.key),t.current.input=e,t.stateman.emit("encrypt:hide-output-placeholder"),console.debug("Chosen text:",e),e=CryptoLib.encrypt(t.current.input,t.current.key),console.debug("Encrypted text:",e),t.current.output=e,e=u(e),n("#encryption_output").html(e),n(".share_message_item").html(e),t.stateman.emit("encrypt:show-share"))}}function s(){t.stateman.on("header:show",function(){n("#header").show()}),t.stateman.on("header:hide",function(){n("#header").hide()})}function c(e){t.current.key=e,console.debug("Chosen key",e),n(".share_key_emoji-item").html(u(e))}function l(e){n("#decryption_input").html(u(e)).attr("text",e)}function d(){function e(e,o){n.get(o).done(function(i){n(e).append(i.documentElement),t.stateman.emit("svg:loaded",o)}).fail(function(){console.error(this)})}n("div[data-svg*='assets/svg']").each(function(){var t=this,o=n(t).attr("data-svg");e(t,o)})}function u(e){return o.parse(e,{folder:"svg",ext:".svg"})}t.UI={decryptText:r,encryptText:a,handleHeader:s,handleSvgLoading:d,selectKey:c,showDecryptableText:l,toTwemoji:u}}(window,window.Cryptoloji,window.jQuery,window.twemoji),function(e,t,n,o){function i(e){function o(){m.off("touchmousedown"),n("body").on("touchmousemove"),n("body").off("touchmouseup"),setTimeout(function(){t.stateman.go("loading"),y.destroy()},1200)}function i(e){TweenLite.set("#onboarding_svg "+e,{opacity:1}),TweenLite.from("#onboarding_svg "+e,1,{opacity:0,y:"+20px",ease:Expo.easeInOut})}function r(e){TweenLite.to("#onboarding_svg "+e,1,{opacity:0,y:"-20px",ease:Expo.easeInOut})}function a(e){TweenLite.to("#onboarding_svg "+e,1,{opacity:1,y:0})}function s(e){TweenLite.to("#onboarding_svg "+e,1,{opacity:0,y:0})}function c(e){clearInterval($),$=setInterval(function(){0==S&&(console.warn("zero"),TweenLite.set("#onboarding_svg #letter_c",{drawSVG:"0% 100%"}),TweenLite.to("#onboarding_svg #letter_c",2,{drawSVG:"100% 100%",ease:Expo.easeInOut})),1==S&&(console.warn("uno"),TweenLite.set("#onboarding_svg #letter_c",{drawSVG:"100% 100%"}),TweenLite.to("#onboarding_svg #letter_c",2,{drawSVG:"0% 100%",ease:Expo.easeInOut}),a("#single_c_1"),s("#img_c_1")),2==S&&(console.warn("due"),r("#single_c_1"),i("#img_c_1"),a("#single_i_1"),s("#img_i_1"),a("#single_i_2"),s("#img_i_2"),a("#single_i_3"),s("#img_i_3"),TweenLite.set("#onboarding_svg #letter_i",{drawSVG:"100% 100%"})),3==S&&(console.warn("tre"),TweenLite.to("#onboarding_svg #single_c_1",.7,{opacity:1,y:0}),TweenLite.to("#onboarding_svg #img_c_1",1,{opacity:0}),TweenLite.to("#onboarding_svg #letter_i",2,{drawSVG:"0% 100%",ease:Expo.easeInOut}),TweenLite.set("#onboarding_svg #letter_o",{drawSVG:"100% 100%"}),r("#single_i_1"),i("#img_i_1"),r("#single_i_2"),i("#img_i_2"),r("#single_i_3"),i("#img_i_3"),a("#single_o_1"),s("#img_o_1"),a("#single_o_2"),s("#img_o_2")),4==S&&(console.warn("quatto"),TweenLite.set("#onboarding_svg #letter_i",{drawSVG:"100% 100%"}),TweenLite.set("#onboarding_svg #letter_o",{drawSVG:"100% 100%"}),TweenLite.to("#onboarding_svg #letter_o",2,{drawSVG:"0% 100%",ease:Expo.easeInOut}),r("#single_o_1"),i("#img_o_1"),r("#single_o_2"),i("#img_o_2"),a("#single_i_1"),s("#img_i_1"),a("#single_i_2"),s("#img_i_2"),a("#single_i_3"),s("#img_i_3")),5==S&&(console.warn("cinque"),TweenLite.to("#onboarding_svg",.5,{opacity:0})),clearInterval($)},200),1==l&&(S>=0&&S<=1&&TweenLite.set("#onboarding_svg #txts",{x:e}),S>=2&&S<=4&&TweenLite.set("#onboarding_svg #icns",{x:2*h+e})),l==-1&&(S>=0&&S<=2&&TweenLite.set("#onboarding_svg #txts",{x:e}),S>=3&&S<=4&&TweenLite.set("#onboarding_svg #icns",{x:2*h+e}))}console.log("buildSlider",e),t.onBoardingSlider=!0;var l,d,u=rebound.MathUtil.mapValueInRange,p=new rebound.SpringSystem,y=p.createSpring(50,10),m=n(e),f=6,_=n(document).width(),h=400,g=n(".onboarding_pages").children(),w=!1,v=0,k=0,b=0,C=0,j=0,S=0;n("#onboarding_svg svg").removeAttr("width"),n("#onboarding_svg svg").removeAttr("height"),setTimeout(function(){var e=["#img_c_1","#img_i_1","#img_i_2","#img_i_3","#img_o_1","#img_o_2"],t=[].concat(e);t.forEach(function(e){TweenLite.set("#onboarding_svg "+e,{opacity:0})}),TweenLite.set("#onboarding_svg #letter_c",{drawSVG:"100% 100%"}),TweenLite.to("#onboarding_svg #watermelon image",1,{delay:1.2,rotation:0,transformOrigin:"50% 50%",ease:Elastic.easeInOut}),TweenLite.from("#onboarding_svg #text1",1,{delay:1,opacity:0,y:"+20px",ease:Expo.easeInOut})},50),m.on("touchmousedown",function(e){console.log("touchmousedown"),d=e.pageX,v=e.pageX,w=!0}),n("body").on("touchmousemove",function(e){if(d=e.pageX,w){var t=1;0==j&&e.pageX>v&&(t=.29),j==f&&e.pageX<v&&(t=.29),l=k<v?1:-1,C=(e.pageX-v)*t;var n=u(b+C,0,_*f,0,1),o=u(n,0,1,0,h*f);c(o),y.setCurrentValue(n*-1),k=e.pageX}}),n("body").on("touchmouseup",function(e){if(w){w=!1,b+=C,previous=j;var t=d?Math.abs(d-v):0;k<v?(l=1,t>10&&j++,j>f-1&&(j=f-1)):(l=-1,t>10&&j--,j<0&&(j=0)),g.removeClass("current"),n(g[j]).addClass("current"),j==f-1&&(n(".onboarding_pages").addClass("hide"),o()),y.setEndValue(j/f)}}),y.addListener({onSpringUpdate:function(e){var t=e.getCurrentValue();val=u(t,0,1,0,_*f*-1);var n=u(t,0,1,0,h*f*-1);w||(val%_===0&&(S=j),c(n),b=val)}});var $}t.buildSlider=i,t.onBoardingSlider=!1}(window,window.Cryptoloji,window.jQuery),function(e,t,n,o){function i(e,t){var o=this;return o.name=e,o.$element=n(t),o.openWindow=!0,o.shareLink=null,o.params={},o}var r={};t.UI.Sharer=function(e,t){return r[e]||(r[e]=new i(e,t)),r[e]},i.prototype.addParam=function(e,t){var n=this;return n.params[e]=t,n},i.prototype.bind=function(){var e=this;return e.$element.on("click",e.onClick.bind(e)),e},i.prototype.onClick=function(t){var n=this;if(n.shareLink){var o=575,i=350,r=screen.width/2-o/2,a=screen.height/2-i/2;console.log();var s=n.shareLink+"?",c=_.keys(n.params);_.each(c,function(e,t){s+=e+"="+encodeURIComponent(n.params[e]),t<c.length-1&&(s+="&")}),console.debug("share link:",s),n.openWindow?(t.preventDefault(),e.open(s,"_blank","height="+i+",width="+o+",top="+a+",left="+r)):n.$element.attr("href",s)}return n},i.prototype.sameWindow=function(){var e=this;return e.openWindow=!1,e},i.prototype.setShareLink=function(e){var t=this;return t.shareLink=e,t},i.prototype.unbind=function(){var e=this;e.$element.off()}}(window,window.Cryptoloji,window.jQuery),function(e,t,n,o){function i(e){var t=parseFloat(n("html").css("font-size"));return t*e}t.utils={remToPx:i}}(window,window.Cryptoloji,window.jQuery),function(e,t,n,o){function i(e){return'<p class="key" key="'+e+'">'+t.UI.toTwemoji(e)+"</p>"}var r={};t.UI.Keyslider=function(e,t){return r[e]||(r[e]=new a(e,t)),r[e]};var a=function(e,o){var i=this;console.debug("creating keyslider "+e+" on "+o),i.$element=n(o),i.filled=!1,i.$element.on("click",".key",i.onClick.bind(this));var r={width:5.5,margin:.5};n(".keyslider_content",i.$element).css("padding-right",r.width+r.margin+"rem");var a=t.utils.remToPx(r.width);return n(".keyslider",i.$element).on("scroll",function(){n(".keyslider")[0].scrollWidth-n(".keyslider")[0].offsetWidth<=n(".keyslider",i.$element).scrollLeft()+a&&(n(".main_keyslider_plus",i.$element).css("display","block"),i.$element.addClass("main_keyslider_plus-show"),n(".main_keyslider_plus",i.$element).css("width",r.width+"rem"))}),i};a.prototype.addKey=function(e){var t=this;return n('.keyslider .key[key="'+e+'"]',t.$element).length<1&&n(".keyslider_content",t.$element).append(i(e)),t},a.prototype.fill=function(e){var t=this;if(!t.filled){t.filled=!0;var o="";_.each(e,function(e){o+=i(String.fromCodePoint(e))}),n(".keyslider_content",t.$element).append(o)}},a.prototype.onClick=function(e){var t=this,o=n(e.target).closest(".key").attr("key");t.select(o)},a.prototype.select=function(e){var o=this;return o.resetSelection(),n('.keyslider .key[key="'+e+'"]',o.$element).addClass("selected"),t.stateman.emit("keyslider:key-chosen",e),o},a.prototype.resetSelection=function(){var e=this;return n(".key",e.$element).removeClass("selected"),e}}(window,window.Cryptoloji,window.jQuery),function(e,t,n,o){function i(e){var t=this;return t.mainSelector=e,console.debug("creating KeyModal on "+e),t.$element=n(e),t.filled=!1,t.currentSelection=null,s(),n(".main_key_modal_emoji_container",t.$element).on("click",".key",t.onClick.bind(this)),t}function r(e){return'<p class="key" key="'+e+'">'+t.UI.toTwemoji(e)+"</p>"}function a(e){if(e.stopPropagation(),n("body").hasClass("main_key_modal-open"))c.close();else{if(t.stateman.is("encrypt")){var o=n(".section_main.encryption .header").height()+n(".section_main.encryption .main_content_top").height();n(".main_key_modal").css("height",o)}else{var o=n(".section_main.decryption .header").height()+n(".section_main.decryption .main_content_top").height();n(".main_key_modal").css("height",o)}n("body").addClass("main_key_modal-open")}}function s(){n("body").click(function(e){n("body").hasClass("main_key_modal-open")&&!n(e.target.closest(".main_key_modal")).is(".main_key_modal")&&c&&c.close()})}var c=null;t.UI.KeyModal=function(e){return c||(c=new i(e)),c},i.prototype.addClickHandler=function(e){var t=this;return console.debug("attach click handler "+e+" on "+t.mainSelector),n(e).click(a),t},i.prototype.close=function(){var e=this;return n("body").removeClass("main_key_modal-open"),e},i.prototype.fill=function(e){var t=this;if(!t.filled){t.filled=!0;var o="";_.each(e,function(e){o+=r(String.fromCodePoint(e))}),n(".main_key_modal_emoji_container",t.$element).append(o)}return t},i.prototype.onClick=function(e){var t=this,o=n(e.target).closest(".key").attr("key");return t.select(o),t},i.prototype.select=function(e){var o=this;return o.currentSelection!=e&&(o.resetSelection(),o.currentSelection=e,n('.main_key_modal_emoji_container .key[key="'+e+'"]',o.$element).addClass("selected"),t.stateman.emit("keymodal:key-chosen",e)),o},i.prototype.resetSelection=function(){var e=this;return e.currentSelection=null,n(".main_key_modal_emoji_container .key",e.$element).removeClass("selected"),e}}(window,window.Cryptoloji,window.jQuery),function(e,t,n,o){function i(e){var t=this;return t.mainSelector=e,console.debug("creating KeyPanel on "+e),t.$element=n(e),t.filled=!1,t.currentSelection=null,n(".main_key_panel_emoji_container",t.$element).on("click",".key",t.onClick.bind(this)),t}function r(e){return'<p class="key" key="'+e+'">'+t.UI.toTwemoji(e)+"</p>"}var a=null;t.UI.KeyPanel=function(e){return a||(a=new i(e)),a},i.prototype.fill=function(e){var t=this;if(!t.filled){t.filled=!0;var o="";_.each(e,function(e){o+=r(String.fromCodePoint(e))}),n(".main_key_panel_emoji_container",t.$element).append(o)}return t},i.prototype.onClick=function(e){var t=this,o=n(e.target).closest(".key").attr("key");return t.select(o),t},i.prototype.select=function(e){var o=this;return o.currentSelection!=e&&(o.resetSelection(),o.currentSelection=e,n('.main_key_panel_emoji_container .key[key="'+e+'"]',o.$element).addClass("selected"),t.stateman.emit("keypanel:key-chosen",e)),o},i.prototype.resetSelection=function(){var e=this;return e.currentSelection=null,n(".main_key_panel_emoji_container .key",e.$element).removeClass("selected"),e}}(window,window.Cryptoloji,window.jQuery),function(e,t,n,o){function i(e,t){var o=this;o.$element=n(t),o.maxSize=400,o.currentSize=0}var r={};t.UI.CharCounter=function(e,t){return r[e]||(r[e]=new i(e,t)),r[e]},i.prototype.attachTo=function(e){var t=this;return t.resetCount(),n(e).on("input propertychange",function(e){var o=n(e.target).val().length;t.currentSize=t.maxSize-o,t.$element.text(t.currentSize),o>t.maxSize?t.$element.addClass("oversize"):t.$element.removeClass("oversize")}),t},i.prototype.resetCount=function(){var e=this;return e.currentSize=e.maxSize,e.$element.text(e.currentSize),e.$element.removeClass("oversize"),e},i.prototype.setMaxSize=function(e){var t=this;return t.maxSize=e,t}}(window,window.Cryptoloji,window.jQuery),function(e,t,n){"use strict";var o=t.stateman=new StateMan;o.state("welcome",t.states.welcome).state("encrypt",t.states.encrypt).state("decrypt/:id",t.states.decrypt).state("share",t.states.share).state("onboarding",t.states.onboarding).state("loading",t.states.loading).state("more",t.states.more).state("landing",t.states.landing),$("body").on("click","[to-state]",function(e){e.preventDefault();var n=$(e.target).closest("[to-state]").attr("to-state");console.info("Change state detected:",n),n&&t.stateman.go(n)})}(window,window.Cryptoloji),function(e,t,n,o){"use strict";t.settings={inputMaxSize:120},t.visitor.countVisit(),n(document).ready(function(){FastClick.attach(document.body),n("body").css("height",n(e).innerHeight());var o="onorientationchange"in e,i=o?"orientationchange":"resize";n(e).on(i,function(t){n("body").css("height",n(e).innerHeight())}),t.UI.handleSvgLoading(),t.mq.matches?t.UI.KeyPanel("#encryption_keypanel").fill(EmojiList):t.UI.KeyModal("#key-modal").fill(EmojiList).addClickHandler("#encryption_key_modal_open").addClickHandler("#decryption_key_modal_open"),t.UI.handleHeader(),t.stateman.start(),""===t.stateman.current.name&&t.stateman.go("welcome"),t.stateman.on("begin",function(e){console.log("begin ",e)}),t.stateman.on("end",function(e){console.log("end ",e)}),t.stateman.on("notfound",function(){console.log("notfound")})})}(window,window.Cryptoloji,jQuery);